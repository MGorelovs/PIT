# PIT

TODO task in registracija.php

TODO:
1. Проверку на соответствие при регистрации
В папке инфо лежат данные по возрастным группам и танцевальным классам.
Надо сделать проверку при регистрации, что пара подходит для категории, в которую хотят зарегистрироваться.
В таком случае, надо либо выводить алерт, если неправильную группу выбирает, либо заблокировать чекбоксы для этих групп (последнее сделано в существующей системе).
Как альтернативный вариант, отображать только те группы, которые соответствуют их классу. Если же на данных соревнованиях такой группы нет вовсе, то вывести соответствующий текст. Этот вариант, по-моему, проще реализовать.

**DONE** 2. Сделать так, чтоб регистрация в UI добавляла соответствующие данные в registretie_pari

**DONE** 3. Проапдейтить тестовые примеры для танцоров и пар в базе, чтоб соответствовали документу в папке info

4. Запретить паре регистрироваться на соревнования в группу, если они уже там зарегистрированы. Чтоб юзер не был способен создавать кучу дубликатов в базе.

5. Сделать страничку с инфой о соревнованиях. На странице соревнования название соревнований переделать в ссылку, чтоб при нажатии пересылало на страничку и показывало данные о конкретных соревнованиях (те же данные, что в sacensibas + список групп (тут же возможность в UI добавлять группы на соревнования)).
Вариантов реализации два:
1) (более сложный) Сделать так, чтоб при добавлении соревнований через UI для них создавалась также отдельная страничка, на которой вся перечисленная инфа.
2) (более простой) Сделать ссылки таким образом, чтоб как параметр страничке они отсылали sacID (желательно делать не через cookie, это только если других вариантов не найдём), а страничка уже загружала через JOIN'ы данные из базы для всего перечисленного выше
P.S. Как бы ни была реализована идея, названия групп в списке(таблице) должны быть ссылками для следующего пункта

6. Сделать страничку со списком участников для каждой из групп.
Способы реализации те же, что и в прошлом пункте.
Логика такая - человек зашёл в список соревнований и хочет посмотреть, какие пары будут на таких-то соревнованиях в такой-то группе. Кликает на соревнования, открывается список групп. Кликает на нужную группу - открывается список пар, которые зарегистрировались.

7. Сделать страничку с поиском по танцорам.
Не знаю, как можно реализовать, но вводишь часть имени и предлагает варианты, похожие на искомый. 
Обычно используется Elastic Search, но мы вряд ли этой еботнёй заниматься будем, поэтому надо подумать, как можно реализовать.
По итогу открывается страничка с инфой по танцору. Способы реализации этой страницы такие же, как в предыдущих пунктах.

8. Сделать страничку только для работника, в которой может добавлять в базу танцоров и танцевальные пары.
Это могут быть две отдельные странички, может быть одна, но с отдельными формами. В первую вводятся все поля, которые нужны таблице dejotaji, во вторую надо ввести только ID партнёра и ID партнёрши.
Если у партнёра или партнёрши уже есть запись в deju_pari с likvidacijasDatums = null, то проставить для старой записи likvidacijasDatums = now() и создать запись для новой пары.
Если таких записей нет, то просто создать новую.
